"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.debounce=void 0;var tslib_1=require("tslib"),FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min,isObject_1=tslib_1.__importDefault(require("./isObject"));function debounce(n,i,e){void 0===i&&(i=1e3),void 0===e&&(e={});var r,o,u,a,c,d,v=0,f=!1,s=!1,t=!0;if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);function l(e){var t=r,i=o;return r=o=void 0,v=e,a=n.apply(i,t)}function b(e){var t=e-d;return void 0===d||i<=t||t<0||s&&u<=e-v}function m(){var e,t=new Date;if(b(t))return _(t);c=setTimeout(m,(e=i-((t=t)-d),s?nativeMin(e,u-(t-v)):e))}function _(e){return c=void 0,t&&r?l(e):(r=o=void 0,a)}function p(){var e=new Date,t=b(e);if(r=arguments,o=this,d=e,t){if(void 0===c)return v=e=d,c=setTimeout(m,i),f?l(e):a;if(s)return c=setTimeout(m,i),l(d)}return void 0===c&&(c=setTimeout(m,i)),a}return i=Number(i)||0,(0,isObject_1.default)(e)&&(f=!!e.leading,s="maxWait"in e,u=s?nativeMax(Number(e.maxWait)||0,i):u,t="trailing"in e?!!e.trailing:t),p.cancel=function(){void 0!==c&&clearTimeout(c),r=d=o=c=void(v=0)},p.flush=function(){return void 0===c?a:_(new Date)},p}exports.debounce=debounce,exports.default=debounce;
